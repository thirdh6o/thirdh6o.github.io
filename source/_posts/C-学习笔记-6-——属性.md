---
title: C#学习笔记(6)——属性
date: 2026-01-17 11:59:33
tags:
  - C#
categories:
  - 学习笔记
description: 这是C#学习笔记的第六篇，介绍了属性（Property）的概念和使用方法。
---
## 什么是属性
C# 中的属性（Property）是类和结构体中用于封装数据的成员。它们提供了一种方式来定义类成员的访问和设置规则，通常用于隐藏字段（Fields）的内部实现细节，同时提供控制数据访问的机制。 
属性可以看作是对字段的包装器，通常由 get 和 set 访问器组成。 
在 C# 中，字段（Field）通常用来保存数据，但直接暴露字段会带来问题：
```csharp
public int age; // 不推荐
```
- 无法控制赋值是否合法（如 age < 0）  
- 后期修改逻辑会影响所有使用者  
- 破坏封装性（OOP 的核心思想）  


属性是对字段的“受控访问接口”，Property 不确定存储位置，而是通过访问器计算或返回值。  
## 最基本的属性写法
我们引入一个Student类来演示属性的基本写法：
```csharp
class Student
{
    private int age;     // 私有字段
    private string name;

    public int Age
    {
        get
        {
            return age;
        }
        set
        {
            if (value < 0)
                age = 0;
            else
                age = value;
        }
    }

    public string Name
    {
        get { return name; }
        set { name = value; }
    }
}
```
我们可以通过以下代码来访问和设置属性：
```csharp
Student s = new Student();
s.Age = 18;
Console.WriteLine(s.Age);
```
## 自动实现的属性
如果您接触过其他语言（如 Java），您可能会对属性的自动实现感到熟悉。在 C# 中，您可以使用自动实现的属性来简化代码：
```csharp
class Student
{
    public int Age { get; set; }
    public string Name { get; set; }
}
```
编译器会自动生成一个隐藏的私有字段。
我们使用Java来举例：
Java 常写：
```java
private String name;
public String getName(){ return name; }
public void setName(String name){ this.name = name; }
```
在C#中
```csharp
public string Name { get; set; }
```
编译器会帮你生成一个隐藏字段和对应的 get/set。
## 只读/只写属性
您可以只实现 get 访问器，使属性成为只读属性；或者只实现 set 访问器，使属性成为只写属性。
### 只读属性： 
```csharp 
public int Id { get; }
```
或带有计算逻辑：
```csharp
public int YearOfBirth
{
    get { return DateTime.Now.Year - Age; }
}
```
### 只写属性（很少见）
```csharp
private string password;

public string Password
{
    set { password = value; }
}
```
## 属性与字段
属性可以没有对应的字段，这在某些情况下是有用的。例如，当您需要在属性中执行一些计算或逻辑时，而不是直接存储值。
```csharp
class Rectangle
{
    public double Width { get; set; }
    public double Height { get; set; }

    public double Area
    {
        get { return Width * Height; }
    }
}
```
这段代码定义了一个 Rectangle 类，它有两个属性：Width 和 Height。Area 属性是一个只读属性，它通过计算 Width 和 Height 来返回矩形的面积。
## 属性访问修饰符
您可以为属性指定访问修饰符，就像为字段指定访问修饰符一样。默认情况下，属性是 public 的。
```csharp
public int Score { get; private set; }
```
## 总结
属性是 C# 中“安全、灵活、可扩展”的字段访问方式，是封装的核心体现。
